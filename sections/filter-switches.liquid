<section class="check-switch-wrapper"
    style="
        {% if section.settings.background_image != blank %}
            background-image: url('{{ section.settings.background_image | img_url: 'master' }}'); 
            background-size: cover; 
            background-position: center;
        {% elsif section.settings.background_color != blank %}
            background-color: {{ section.settings.background_color }};
        {% endif %}
    ">
    <div class='container'>
        <h1>{{ section.settings.heading }}</h1>
        <div class="left-side-items">
            {% for block in section.blocks %}
                <div class="item {{ block.settings.color }}">
                    <img src="{{ block.settings.image | img_url: 'master' }}" alt="{{ block.settings.title }}">
                    <h2>{{ block.settings.title }}</h2>
                </div>
            {% endfor %}
        </div>

        <div class="right-side-filter">
            <h2>Just hover <br><strong style="color:#EDD146">over it!</strong></h2>
            <div class="filterGroup">
                <div id="colorFilter">
                    <label><input type="radio" name="color" value="all" checked> All</label>
                    {% for block in section.blocks %}
                        <label><input type="radio" name="color" value="{{ block.settings.color }}"> {{ block.settings.color | capitalize }} Switches</label>
                    {% endfor %}
                </div>
            </div>

            <div class="content-hover-blocks text" style="display: none;">
                {% for block in section.blocks %}
                    <div class="item {{ block.settings.color }}">
                        <h3>{{ block.settings.description_title }}</h3>
                        <div class="text-hover-blocks">
                            <p>{{ block.settings.description_text }}</p>
                        </div>
                    </div>
                {% endfor %}
            </div>

            <div class="table-switches" style="display: flex;">
                <table border="1" cellpadding="10" cellspacing="0">
                    <thead>
                        <tr>
                            <th>ðŸ”¹ Switch</th>
                            <th>ðŸ”¹ Type</th>
                            <th>ðŸ”¹ Feedback</th>
                            <th>ðŸ”¹ Noise Level</th>
                            <th>ðŸ”¹ Actuation Force</th>
                            <th>ðŸ”¹ Best For</th>
                            <th>ðŸ”¹ Examples</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for block in section.blocks %}
                            <tr>
                                <td>{{ block.settings.color | capitalize }}</td>
                                <td>{{ block.settings.switch_type }}</td>
                                <td>{{ block.settings.feedback }}</td>
                                <td>{{ block.settings.noise_level }}</td>
                                <td>{{ block.settings.actuation_force }}</td>
                                <td>{{ block.settings.best_for }}</td>
                                <td>{{ block.settings.examples }}</td>
                            </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>
        </div>
    </div>
</section>

<script>
    document.querySelectorAll('#colorFilter input').forEach(function(radio) {
        radio.addEventListener('change', function(event) {
            var selectedColor = event.target.value;
            var items = document.querySelectorAll('.item');
            var contentBlocks = document.querySelector('.content-hover-blocks');
            var tableSwitches = document.querySelector('.table-switches');

            if (selectedColor === 'all') {
                contentBlocks.style.display = 'none';
                tableSwitches.style.display = 'flex';
            } else {
                contentBlocks.style.display = 'flex';
                tableSwitches.style.display = 'none';
            }

            items.forEach(function(item) {
                if (selectedColor === 'all' || item.classList.contains(selectedColor)) {
                    item.style.display = 'flex';
                } else {
                    item.style.display = 'none';
                }
            });
        });
    });
</script>

{% schema %}
{
  "name": "Check Switch",
  "settings": [
    {
      "type": "text",
      "id": "heading",
      "label": "Main Heading",
      "default": "CHECK SWITCH"
    },
    {
      "type": "image_picker",
      "id": "background_image",
      "label": "Background Image"
    },
    {
      "type": "color",
      "id": "background_color",
      "label": "Background Color",
      "default": "#f4f4f4"
    }
  ],
  "blocks": [
    {
      "type": "switch",
      "name": "Switch",
      "settings": [
        {
          "type": "image_picker",
          "id": "image",
          "label": "Switch Image"
        },
        {
          "type": "text",
          "id": "title",
          "label": "Switch Name",
          "default": "Hator Optical V2 Kailh Black Switch"
        },
        {
          "type": "text",
          "id": "color",
          "label": "Switch Color",
          "default": "red"
        },
        {
          "type": "text",
          "id": "description_title",
          "label": "Description Title",
          "default": "ðŸ”´ Red Switches â€“ Light & Fast"
        },
        {
          "type": "textarea",
          "id": "description_text",
          "label": "Description Text",
          "default": "ðŸ”¹ Best for fast-paced gaming and silent keystrokes."
        },
        {
          "type": "text",
          "id": "switch_type",
          "label": "Switch Type",
          "default": "Linear"
        },
        {
          "type": "text",
          "id": "feedback",
          "label": "Feedback",
          "default": "Smooth, no tactile bump"
        },
        {
          "type": "text",
          "id": "noise_level",
          "label": "Noise Level",
          "default": "Silent"
        },
        {
          "type": "text",
          "id": "actuation_force",
          "label": "Actuation Force",
          "default": "~45g"
        },
        {
          "type": "text",
          "id": "best_for",
          "label": "Best For",
          "default": "Gaming, quiet environments"
        },
        {
          "type": "text",
          "id": "examples",
          "label": "Examples",
          "default": "Cherry MX Red, Gateron Red, Akko Red"
        }
      ]
    }
  ],
  "presets": [
    {
      "name": "Check Switch",
      "category": "Custom",
      "blocks": [
        {
          "type": "switch"
        },
        {
          "type": "switch"
        },
        {
          "type": "switch"
        },
        {
          "type": "switch"
        }
      ]
    }
  ]
}
{% endschema %}
